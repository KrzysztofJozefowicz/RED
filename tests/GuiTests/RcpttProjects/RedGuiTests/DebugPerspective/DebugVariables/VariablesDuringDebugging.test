--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _Q9XWMIfGEeWYGL6nmNUhSg,_OCxtEBRGEeWWV9IuysVI_A
Element-Name: VariablesDuringDebugging
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _bbykIIlLEeWHhtZu19MBKw
Runtime-Version: 2.0.0.201506120617
Save-Time: 12/9/15 5:28 PM
Tags: Debug
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

get-view "Project Explorer" | get-tree | select "MediumRobotTest/OnlyVariables.robot" | select "MediumRobotTest/OnlyVariables.robot" 
    | double-click
with [get-editor "OnlyVariables.robot" | get-left-ruler | get-ruler-column AnnotationColumn] {
    double-click-ruler 17
    double-click-ruler 27
}


exec-with-options -disableJobWaiting -command {
	get-view "Project Explorer" | get-tree | select "MediumRobotTest/OnlyVariables.robot" | get-menu "Debug As/1 Robot Test" 
	    | click
	wait 5000
	
	//check test name
	get-view Variables | get-tree | select "${TEST_NAME}"
	with [get-view Variables | get-tree] {
	    get-item "${TEST_NAME}" | get-property "values['Name']" | equals "${TEST_NAME}" | verify-true
	    get-item "${TEST_NAME}" | get-property "values['Value']" | equals "set new variable as global" | verify-true
	}
	//check if in first run background color is white
	with [get-view Variables | get-tree] {
	    get-item "${TEST_NAME}" | get-property "columnsBackgroundColor[0]" | equals "#FFFFFF" | verify-true
	    get-item "${TEST_NAME}" | get-property "columnsBackgroundColor[1]" | equals "#FFFFFF" | verify-true
	}

	//check first 5 variables
	with [get-view Variables | get-tree] {
	    get-property "getItems().TreeItem[0].getText()" | equals "${a}" | verify-true
	    get-property "getItems().TreeItem[0].getData().getValue().getValueString()" | equals "from test" | verify-true
	    get-property "getItems().TreeItem[1].getText()" | equals "${booleas_arg}" | verify-true
	    get-property "getItems().TreeItem[1].getData().getValue().getValueString()" | equals True | verify-true
	    get-property "getItems().TreeItem[2].getText()" | equals "${from_resource}" | verify-true
	    get-property "getItems().TreeItem[2].getData().getValue().getValueString()" | equals 3 | verify-true
	    get-property "getItems().TreeItem[3].getText()" | equals "${x}" | verify-true
	    get-property "getItems().TreeItem[3].getData().getValue().getValueString()" | equals 5 | verify-true
	}
	//check list and dict
	with [get-view Variables | get-tree] {
	    select "@{list_for_res}" | double-click
	    wait 200
	    select "@{list_from_test}" | double-click
	}
	with [get-view Variables | get-tree] {
	    get-item "@{list_for_res}" | get-property "getItems().TreeItem[0].getText()" | equals "[0]" | verify-true
	    get-item "@{list_for_res}" | get-property "getItems().TreeItem[0].getData().getValue().getValueString()" | equals 1 
	        | verify-true
	    get-item "@{list_for_res}" | get-property "getItems().TreeItem[1].getText()" | equals "[1]" | verify-true
	    get-item "@{list_for_res}" | get-property "getItems().TreeItem[1].getData().getValue().getValueString()" | equals 2 
	        | verify-true
	    get-item "@{list_for_res}" | get-property "getItems().TreeItem[2].getText()" | equals "[2]" | verify-true
	    get-item "@{list_for_res}" | get-property "getItems().TreeItem[2].getData().getValue().getValueString()" | equals 3 
	        | verify-true
	}
	
	with [get-view Variables | get-tree] {
	    get-item "@{list_from_test}" | get-property "getItems().TreeItem[0].getText()" | equals "[0]" | verify-true
	    get-item "@{list_from_test}" | get-property "getItems().TreeItem[0].getData().getValue().getValueString()" 
	        | equals 7 | verify-true
	    get-item "@{list_from_test}" | get-property "getItems().TreeItem[1].getText()" | equals "[1]" | verify-true
	    get-item "@{list_from_test}" | get-property "getItems().TreeItem[1].getData().getValue().getValueString()" 
	        | equals 8 | verify-true
	    get-item "@{list_from_test}" | get-property "getItems().TreeItem[2].getText()" | equals "[2]" | verify-true
	    get-item "@{list_from_test}" | get-property "getItems().TreeItem[2].getData().getValue().getValueString()" 
	        | equals 9 | verify-true
	}
	
	
	get-button "Step Into (F5)" | click
	wait 1000
	
	//var x background color is changed to yellow
	with [get-view Variables | get-tree] {
	    get-item "${x}" | get-property "columnsBackgroundColor[0]" | equals "#FFFF00" | verify-true
	    get-item "${x}" | get-property "columnsBackgroundColor[1]" | equals "#FFFF00" | verify-true
	}
	//backgrounf color is still white
	with [get-view Variables | get-tree] {
	    get-item "${TEST_NAME}" | get-property "columnsBackgroundColor[0]" | equals "#FFFFFF" | verify-true
	    get-item "${TEST_NAME}" | get-property "columnsBackgroundColor[1]" | equals "#FFFFFF" | verify-true
	}	
	
	//go to next test		
	get-button "Step Into (F5)" | click
	wait 1000
	with [get-view Variables | get-tree] {
	    get-item "${TEST_NAME}" | get-property "values['Name']" | equals "${TEST_NAME}" | verify-true
	    get-item "${TEST_NAME}" | get-property "values['Value']" | equals "create new variable" | verify-true
	}
	//x scalar reset to global name - yellow color
	with [get-view Variables | get-tree] {
    	get-item "${x}" | get-property "columnsBackgroundColor[0]" | equals "#FFFF00" | verify-true
	    get-item "${x}" | get-property "columnsBackgroundColor[1]" | equals "#FFFF00" | verify-true
	}
		
	//check variables
	with [get-view Variables | get-tree] {
	    get-property "getItems().TreeItem[0].getText()" | equals "${a}" | verify-true
	    get-property "getItems().TreeItem[0].getData().getValue().getValueString()" | equals "from test" | verify-true
	    get-property "getItems().TreeItem[1].getText()" | equals "${booleas_arg}" | verify-true
	    get-property "getItems().TreeItem[1].getData().getValue().getValueString()" | equals True | verify-true
	    get-property "getItems().TreeItem[2].getText()" | equals "${from_resource}" | verify-true
	    get-property "getItems().TreeItem[2].getData().getValue().getValueString()" | equals 3 | verify-true
	    get-property "getItems().TreeItem[3].getText()" | equals "${x}" | verify-true
	    get-property "getItems().TreeItem[3].getData().getValue().getValueString()" | equals 5 | verify-true
	}
	//check list and dict
	with [get-view Variables | get-tree] {
	    select "@{list_for_res}" | double-click
	}
	wait 1000
	with [get-view Variables | get-tree] {
	    get-property "getItems().TreeItem[4].getItems().TreeItem[0].getText()" | equals "[0]" | verify-true
	    get-property "getItems().TreeItem[4].getItems().TreeItem[0].getData().getValue().getValueString()" | equals 1 
	        | verify-true
	    get-property "getItems().TreeItem[4].getItems().TreeItem[1].getText()" | equals "[1]" | verify-true
	    get-property "getItems().TreeItem[4].getItems().TreeItem[1].getData().getValue().getValueString()" | equals 2 
	        | verify-true
	    get-property "getItems().TreeItem[4].getItems().TreeItem[2].getText()" | equals "[2]" | verify-true
	    get-property "getItems().TreeItem[4].getItems().TreeItem[2].getData().getValue().getValueString()" | equals 3 
	        | verify-true
	    get-property "getItems().TreeItem[4].getText()" | equals "@{list_for_res}" | verify-true
	}
	with [get-view Variables | get-tree] {
		select "@{list_for_res}" | double-click
	    select "@{list_from_test}" | double-click
	}
	with [get-view Variables | get-tree] {
	    get-property "getItems().TreeItem[5].getItems().TreeItem[0].getText()" | equals "[0]" | verify-true
	    get-property "getItems().TreeItem[5].getItems().TreeItem[0].getData().getValue().getValueString()" | equals 7 
	        | verify-true
	    get-property "getItems().TreeItem[5].getItems().TreeItem[1].getText()" | equals "[1]" | verify-true
	    get-property "getItems().TreeItem[5].getItems().TreeItem[1].getData().getValue().getValueString()" | equals 8 
	        | verify-true
	    get-property "getItems().TreeItem[5].getItems().TreeItem[2].getText()" | equals "[2]" | verify-true
	    get-property "getItems().TreeItem[5].getItems().TreeItem[2].getData().getValue().getValueString()" | equals 9 
	        | verify-true
	    get-property "getItems().TreeItem[5].getText()" | equals "@{list_from_test}" | verify-true
	}
	

//-----------
	//add new varibale	
	get-button "Step Into (F5)" | click
	wait 3000
	get-view Variables | get-tree | select "${local}"
	
	with [get-view Variables | get-tree] {
	    get-property "getItems().TreeItem[0].getText()" | equals "${local}" | verify-true
	    get-property "getItems().TreeItem[0].getData().getValue().getValueString()" | equals music | verify-true
	    get-property "getItems().TreeItem[1].getText()" | equals "${a}" | verify-true
	    get-property "getItems().TreeItem[1].getData().getValue().getValueString()" | equals "from test" | verify-true
	    get-property "getItems().TreeItem[2].getText()" | equals "${booleas_arg}" | verify-true
	    get-property "getItems().TreeItem[2].getData().getValue().getValueString()" | equals True | verify-true
	    get-property "getItems().TreeItem[3].getData().getValue().getValueString()" | equals 3 | verify-true
	    get-property "getItems().TreeItem[4].getText()" | equals "${x}" | verify-true
	    get-property "getItems().TreeItem[4].getData().getValue().getValueString()" | equals 5 | verify-true
	}
	
	//go to next test
	get-button "Step Into (F5)" | click
	wait 3000
	//test name changed
	with [get-view Variables | get-tree] {
	    //get-item "${TEST_NAME}" | get-property "columnsBackgroundColor[0]" | equals "#FFFF00" | verify-true
	    //get-item "${TEST_NAME}" | get-property "columnsBackgroundColor[1]" | equals "#FFFF00" | verify-true
	    get-item "${TEST_NAME}" | get-property "values['Value']" | equals "checking scope" | verify-true
	}
	//added new variable
	get-button "Step Into (F5)" | click
	wait 3000
	with [get-view Variables | get-tree] {
	    get-item "${a}" | get-property "columnsBackgroundColor[0]" | equals "#FFFF00" | verify-true
	    get-item "${a}" | get-property "columnsBackgroundColor[1]" | equals "#FFFF00" | verify-true
	    get-item "${a}" | get-property "values['Name']" | equals "${a}" | verify-true
	    get-item "${a}" | get-property "values['Value']" | equals 4 | verify-true
	}
	//go to resource
	with [get-button "Step Into (F5)"] {
	    click
	    wait 2000
	    click
	    wait 2000
	}
	//varaible replace with new value from main test
	with [get-view Variables | get-tree] {
	    get-item "${a}" | get-property "columnsBackgroundColor[0]" | equals "#FFFF00" | verify-true
	    get-item "${a}" | get-property "columnsBackgroundColor[1]" | equals "#FFFF00" | verify-true
	    get-item "${a}" | get-property "values['Name']" | equals "${a}" | verify-true
	    get-item "${a}" | get-property "values['Value']" | equals "from test" | verify-true
	}
	
	//new test
	get-button "Step Into (F5)" | click
	wait 1000
	with [get-view Variables | get-tree] {
	    get-item "${TEST_NAME}" | get-property "columnsBackgroundColor[0]" | equals "#FFFF00" | verify-true
	    get-item "${TEST_NAME}" | get-property "columnsBackgroundColor[1]" | equals "#FFFF00" | verify-true
	    get-item "${TEST_NAME}" | get-property "values['Value']" | equals "create new list" | verify-true
	}
	with [get-button "Step Into (F5)"] {
	    click
	    click
	}
	
	wait 1000
	//new list 
	get-view Variables | get-tree | select "@{vegetable}" | double-click
	with [get-view Variables | get-tree] {
	    get-item "@{vegetable}" | get-property childCount | equals 2 | verify-true
	    get-item "@{vegetable}/\\[0\\]" | get-property "values['Name']" | equals "[0]" | verify-true
	    get-item "@{vegetable}/\\[0\\]" | get-property "values['Value']" | equals onion | verify-true
	    get-item "@{vegetable}/\\[1\\]" | get-property "values['Name']" | equals "[1]" | verify-true
	    get-item "@{vegetable}/\\[1\\]" | get-property "values['Value']" | equals tomato | verify-true
	}

	with [get-button "Step Into (F5)"] {
	    click
	    wait 1000
	    click
	    wait 1000
	    click
	}
	get-view Variables | get-tree | select "@{list_from_test}" | double-click
	with [get-view Variables | get-tree] {
	    get-item "@{list_from_test}" | get-property index | equals 5 | verify-true
	    get-item "@{list_from_test}" | get-property "columnsBackgroundColor[0]" | equals "#FFFF00" | verify-true
	    get-item "@{list_from_test}" | get-property "columnsBackgroundColor[1]" | equals "#FFFF00" | verify-true
	    get-item "@{list_from_test}" | get-property "values['Name']" | equals "@{list_from_test}" | verify-true
	    get-item "@{list_from_test}" | get-property "values['Value']" | equals "List[4]" | verify-true
	}
	with [get-view Variables | get-tree] {
	    get-item "@{list_from_test}/\\[0\\]" | get-property "values['Name']" | equals "[0]" | verify-true
	    get-item "@{list_from_test}/\\[0\\]" | get-property "values['Value']" | equals 7 | verify-true
	    get-item "@{list_from_test}/\\[0\\]" | get-property "columnsForegroundColor[0]" | equals "#000000" | verify-true
	    get-item "@{list_from_test}/\\[0\\]" | get-property "columnsForegroundColor[1]" | equals "#000000" | verify-true
	}

}


get-button "Terminate (M1+F2)" | click
wait 1000
get-view Variables | get-tree | get-property itemCount | equals 0 | verify-true
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
