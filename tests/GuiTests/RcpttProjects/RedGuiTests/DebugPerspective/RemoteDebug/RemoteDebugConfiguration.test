--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _mJtj0Jm8EeWwXrMNKVDTwg
Element-Name: RemoteDebugConfiguration
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _LJw90Jm3EeWwXrMNKVDTwg
Runtime-Version: 2.1.0.201606221726
Save-Time: 7/21/16 5:38 PM
Tags: Debug
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

//set test
get-view "Project Explorer" | get-tree | select "RobotProject/TestFile.robot" | double-click
get-editor "TestFile.robot" | get-text-viewer | set-text "*** Test cases ***\n"
    + "test 1\n"
    + "    Log  5" 

get-button "Save \((Ctrl|M1)\+S\)" | click  
//run in debug to create run configuration
get-view "Project Explorer" | get-tree | select "RobotProject/TestFile.robot" | get-menu "Debug As/1 Robot Test" | click

//got to Debug configuration
get-button "Debug.*" | click -arrow
get-menu "Debug Configurations..." | click
with [get-window "Debug Configurations"] {
    get-tree | select "Robot/TestFile.robot"
    get-tab-folder | get-tab-item Remote | click
}
//check layout
with [get-window "Debug Configurations" | get-group "Remote Debugging"] {
    get-property "getChildren().Control[0].getText()" | equals "Local IP:" | verify-true
    get-property "getChildren().Control[1].getText()" | equals "" | verify-true
    get-property "getChildren().Control[1].getEditable()" | equals true | verify-true
    get-property "getChildren().Control[1].isEnabled()" | equals true | verify-true
    get-property "getChildren().Control[2].getText()" | equals "Local port:" | verify-true
    get-property "getChildren().Control[3].getText()" | equals "" | verify-true
    get-property "getChildren().Control[3].getEditable()" | equals true | verify-true
    get-property "getChildren().Control[3].getVisible()" | equals true | verify-true
    get-property "getChildren().Control[4].getText()" | equals "Connection timeout [s]:" | verify-true
    get-property "getChildren().Control[5].getText()" | equals "" | verify-true
    get-property "getChildren().Control[5].getEditable()" | equals true | verify-true
    get-property "getChildren().Control[6].getClassName()" | equals "org.eclipse.swt.widgets.Button" | verify-true
    get-property "getChildren().Control[6].getText()" | equals "Export Debug Script" | verify-true
    get-property "getChildren().Control[6].isEnabled()" | equals true | verify-true
}
proc "check-if-no-error-is-shown"{
	get-window "Debug Configurations" | get-editbox -after [get-label "Create, manage, and run configurations"] 
	    | get-property text | equals "Create or edit a configuration to launch Robot Framework tests" | verify-true

}

proc "check-port-error-and-clear-field"{
	get-window "Debug Configurations" | get-editbox -after [get-label "Create, manage, and run configurations"] 
    	| get-property text | equals "Invalid port specified." | verify-true

    //clear port	
	with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"]] {
    	set-text ""
    check-if-no-error-is-shown
	}
}



//check host field
with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local IP:"]] {
    set-text localhost
}
check-if-no-error-is-shown
    
with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local IP:"]] {
    set-text "onet.pl"
}
check-if-no-error-is-shown
    
with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local IP:"]] {
    set-text "125.3.5.6"
}
check-if-no-error-is-shown

//remove Host and check correct ports
with [get-window "Debug Configurations" | get-group "Remote Debugging"] {
    get-editbox -after [get-label "Local IP:"] | set-text ""
    get-editbox -after [get-label "Local port:"] | set-text 1
}
check-if-no-error-is-shown
with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"]] {
    set-text 65535
}
check-if-no-error-is-shown

with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"]] {
    set-text 7469
}
check-if-no-error-is-shown


//set incorrect ports
get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"] | set-text " "
check-port-error-and-clear-field

 
with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"]] {
    set-text text
}
check-port-error-and-clear-field

with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"]] {
    set-text 65536
}
check-port-error-and-clear-field

with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"]] {
    set-text 0
}
check-port-error-and-clear-field


//set incorrect timeout
proc "check-timeout-error-and-clear-field"{
	get-window "Debug Configurations" | get-editbox -after [get-label "Create, manage, and run configurations"] 
	    | get-property text | equals "Invalid connection timeout specified." | verify-true
	    
	    
	get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox 
	    -after [get-label "Connection timeout [s]:"] | set-text 1
	    
	check-if-no-error-is-shown
}

get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Connection timeout [s]:"]| set-text 0
check-timeout-error-and-clear-field

get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Connection timeout [s]:"]| set-text 9999999999
check-timeout-error-and-clear-field

get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Connection timeout [s]:"]| set-text t
check-timeout-error-and-clear-field

get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Connection timeout [s]:"]| set-text "89.67"
check-timeout-error-and-clear-field

get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Connection timeout [s]:"]| set-text " "
check-timeout-error-and-clear-field


get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Connection timeout [s]:"]| set-text " text "
check-timeout-error-and-clear-field
 
  
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
