--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _mJtj0Jm8EeWwXrMNKVDTwg
Element-Name: RemoteDebugConfiguration
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _LJw90Jm3EeWwXrMNKVDTwg
Runtime-Version: 2.0.0.201506120617
Save-Time: 12/4/15 12:10 PM
Tags: Debug
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

//set test
get-view "Project Explorer" | get-tree | select "RobotProject/TestFile.robot" | double-click
get-editor "TestFile.robot" | get-text-viewer | set-text "*** Test cases ***\n"
    + "test 1\n"
    + "    Log  5" 

get-button "Save (M1+S)" | click    
//run in debug to create run configuration
get-view "Project Explorer" | get-tree | select "RobotProject/TestFile.robot" | get-menu "Debug As/1 Robot Test" | click

//got to Debug configuration
get-button "Debug.*" | click -arrow
get-menu "Debug Configurations..." | click
with [get-window "Debug Configurations"] {
    get-tree | select "Robot/TestFile.robot"
    get-tab-folder | get-tab-item Remote | click
}
//check layout
with [get-window "Debug Configurations" | get-group "Remote Debugging"] {
    get-property "getChildren().Control[0].getText()" | equals "Local IP:" | verify-true
    get-property "getChildren().Control[1].getText()" | equals "" | verify-true
    get-property "getChildren().Control[1].getEditable()" | equals true | verify-true
    get-property "getChildren().Control[1].isEnabled()" | equals true | verify-true
    get-property "getChildren().Control[2].getText()" | equals "Local port:" | verify-true
    get-property "getChildren().Control[3].getText()" | equals "" | verify-true
    get-property "getChildren().Control[3].getEditable()" | equals true | verify-true
    get-property "getChildren().Control[3].isEnabled()" | equals true | verify-true
    get-property "getChildren().Control[4].getClassName()" | equals "org.eclipse.swt.widgets.Button" | verify-true
    get-property "getChildren().Control[4].getText()" | equals "Export Debug Script" | verify-true
    get-property "getChildren().Control[4].isEnabled()" | equals true | verify-true
}
proc "check-if-no-error-is-shown"{
	get-window "Debug Configurations" | get-editbox -after [get-label "Create, manage, and run configurations"] 
	    | get-property text | equals "" | verify-true

}

proc "check-port-error-and-clear-field"{
	get-window "Debug Configurations" | get-editbox -after [get-label "Create, manage, and run configurations"] 
    	| get-property text | equals "Invalid port specified." | verify-true
    //clear port	
	with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"]] {
    	set-text ""
    check-if-no-error-is-shown
	}
}



//check host field
with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local IP:"]] {
    set-text localhost
}
check-if-no-error-is-shown
    
with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local IP:"]] {
    set-text "onet.pl"
}
check-if-no-error-is-shown
    
with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local IP:"]] {
    set-text "125.3.5.6"
}
check-if-no-error-is-shown

//remove Host and check correct ports
with [get-window "Debug Configurations" | get-group "Remote Debugging"] {
    get-editbox -after [get-label "Local IP:"] | set-text ""
    get-editbox -after [get-label "Local port:"] | set-text 1
}
check-if-no-error-is-shown
with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"]] {
    set-text 65535
}
check-if-no-error-is-shown

with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"]] {
    set-text 7469
}
check-if-no-error-is-shown


//set incorrect ports
get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"] | set-text " "
check-port-error-and-clear-field

 
with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"]] {
    set-text text
}
check-port-error-and-clear-field

with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"]] {
    set-text 65536
}
check-port-error-and-clear-field

with [get-window "Debug Configurations" | get-group "Remote Debugging" | get-editbox -after [get-label "Local port:"]] {
    set-text 0
}
check-port-error-and-clear-field

  
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
