--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _pjyZ0Af5Eee0EKWnoBYU9g,_d8aMACuvEeW667Afdo4DcA,_2Q6oEPOSEeaWpbE3jg39cA,_OCxtEBRGEeWWV9IuysVI_A,_kJ0i8BXWEeW05sQKg0mypw,_ThULYA4_EeePcNCRX_abWA,_s-ctEA4_EeePcNCRX_abWA
Element-Name: RemoteDebugForWrongTest
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _-6fSwAjXEee0EKWnoBYU9g
Runtime-Version: 2.1.0.201606221726
Save-Time: 5/24/17 7:57 AM
Tags: Debug
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

//here project name and test name are different

with [get-view "Project Explorer" | get-tree] {
    select MediumRobotTest | double-click
    select "MediumRobotTest/Script.robot" | double-click
}
  
//set BP
with [get-editor "Script.robot" | get-left-ruler | get-ruler-column AnnotationColumn] {
    click-ruler -line 15
    double-click-ruler 15
}


let [val remote_project_path  [format "%s/Remote" $user_folder] ]{
	//export listener
	export-agent-to-folder -folder $remote_project_path
	
	//run test
	exec-with-options -disableJobWaiting -command {
		get-view "Project Explorer" | get-tree | select "MediumRobotTest/Script.robot" 
		    | get-menu "Debug As/2 Robot Remote Test" | click
		
		wait-for-remote-connection 
		
		run-remote-test-in-background -path  $remote_project_path -project_name "RemoteProject"
		wait 5000
		try -times 4 -delay 100 -command{
			get-window "Debug Execution Context Error" 
			    | get-label "Invalid execution context: suite='TestFile.robot', name='BuiltIn.Log', type='Keyword'" 
			    | get-property caption 
			    | equals "Invalid execution context: suite='TestFile.robot', name='BuiltIn.Log', type='Keyword'" 
			    | verify-true
			get-window "Debug Execution Context Error" | get-button OK | click	
		}
	}

}
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
