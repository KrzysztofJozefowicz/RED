--- RCPTT testcase ---
Format-Version: 1.0
Element-Name: ExportListnerInRemoteDebug
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _LruXMJm-EeWwXrMNKVDTwg
Runtime-Version: 2.0.2.201511100828
Save-Time: 12/15/15 11:19 AM
Tags: Debug
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

//remove if file exist
if [get-file [uri-from-path [concat [get-workspace-location] "/TestRunnerAgent.py" ]] |get exists ]{
   uri-from-path [concat [get-workspace-location] "/TestRunnerAgent.py" ]  | delete-file
}


//set test
get-view "Project Explorer" | get-tree | select "RobotProject/TestFile.robot" | double-click
get-editor "TestFile.robot" | get-text-viewer | set-text "*** Test cases ***\n"
    + "test 1\n"
    + "    Log  5" 

get-button "Save (M1+S)" | click    
//run in debug to create run configuration
get-view "Project Explorer" | get-tree | select "RobotProject/TestFile.robot" | get-menu "Debug As/1 Robot Test" | click

//generate new file
get-button "Debug*." | click -arrow
get-menu "Debug Configurations..." | click
with [get-window "Debug Configurations"] {
    get-tree | select "Robot/TestFile.robot"
    get-tab-folder | get-tab-item Remote | click
}
set-dialog-result Folder [get-workspace-location]
with [get-window "Debug Configurations"] {
    get-group "Remote Debugging" | get-button "Export Debug Script" | click
    get-button Close | click
}
get-file [uri-from-path [concat [get-workspace-location] "/TestRunnerAgent.py" ]] |get exists |verify-true

//remove folder
if [get-file [uri-from-path [concat [get-workspace-location] "/TestRunnerAgent.py" ]] |get exists ]{
   uri-from-path [concat [get-workspace-location] "/TestRunnerAgent.py" ]  | delete-file
}


------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
