--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _OCxtEBRGEeWWV9IuysVI_A,_NvY3ABRGEeWWV9IuysVI_A
Element-Name: DebugOnProject
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _BW-V4B8oEeWYlfCPyvfohw
Runtime-Version: 2.0.0.201506120617
Save-Time: 10/23/15 5:44 PM
Tags: Debug
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

//set BP on 3 scripts

with [get-view "Project Explorer" | get-tree] {
    select ScriptWithResource | select ScriptWithResource | double-click
    select "ScriptWithResource/BigScript.robot" | select "ScriptWithResource/BigScript.robot" | double-click
}
get-editor "BigScript.robot" | get-left-ruler | get-ruler-column AnnotationColumn | double-click-ruler 66

get-view "Project Explorer" | get-tree | select "ScriptWithResource/my_keywords.robot" 
    | select "ScriptWithResource/my_keywords.robot" | double-click
get-editor "my_keywords.robot" | get-left-ruler | get-ruler-column AnnotationColumn | double-click-ruler 14

get-view "Project Explorer" | get-tree | select "ScriptWithResource/Tests/SecondInsideTest.robot" 
    | select "ScriptWithResource/Tests/SecondInsideTest.robot" | double-click
with [get-editor "SecondInsideTest.robot" | get-left-ruler | get-ruler-column AnnotationColumn] {
    double-click-ruler 12
}

//run  Debug as on Project
get-view "Project Explorer" | get-tree | select ScriptWithResource | select ScriptWithResource 
    | get-menu "Debug As/1 Robot Test" | click

wait 1000
//step in
exec-with-options -disableJobWaiting -command {    
	get-button "Step Into (F5)" | click
}

with [get-tab-folder -index 2] {
    get-property "pages[0]" | equals "BigScript.robot" | verify-true
    get-property "pages[1]" | equals "my_keywords.robot" | verify-true
    get-property "pages[2]" | equals "SecondInsideTest.robot" | verify-true
    get-property activePage | equals "my_keywords.robot" | verify-true
    get-property tabCount | equals 3 | verify-true
}
check-debug-marker-on-ruler -line 13 -script_name "my_keywords"

//resume - will stop again on my_keyword but now on breakpoint
get-button "Resume (F8)" | click
with [get-tab-folder -index 2] {
    get-property "pages[0]" | equals "BigScript.robot" | verify-true
    get-property "pages[1]" | equals "my_keywords.robot" | verify-true
    get-property "pages[2]" | equals "SecondInsideTest.robot" | verify-true
    get-property activePage | equals "my_keywords.robot" | verify-true
    get-property tabCount | equals 3 | verify-true
}
check-debug-marker-on-ruler -line 14 -script_name "my_keywords"


//resume - will stop again on SecondTest
get-button "Resume (F8)" | click
with [get-tab-folder -index 2] {
    get-property "pages[0]" | equals "BigScript.robot" | verify-true
    get-property "pages[1]" | equals "my_keywords.robot" | verify-true
    get-property "pages[2]" | equals "SecondInsideTest.robot" | verify-true
    get-property activePage | equals "SecondInsideTest.robot" | verify-true
    get-property tabCount | equals 3 | verify-true
}

//Resume - script will end
get-button "Resume (F8)" | click
get-view Console | get-button Terminate | get-property enablement | equals true | verify-true



------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
