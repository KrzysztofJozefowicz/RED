--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _kJ0i8BXWEeW05sQKg0mypw,_OCxtEBRGEeWWV9IuysVI_A
Element-Name: DebugGlobalParameters
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _3-pdQBtFEeWSh6BKjAxDIw
Runtime-Version: 2.0.0.201506120617
Save-Time: 11/16/15 11:59 AM
Tags: Debug
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

with [get-view "Project Explorer" | get-tree] {
    select "MediumRobotTest/Script.robot" | double-click
}
with [get-editor "Script.robot" | get-left-ruler | get-ruler-column AnnotationColumn] {
    double-click-ruler 15
    double-click-ruler 27
}

exec-with-options -disableJobWaiting -command {
	get-view "Project Explorer" | get-tree | select "MediumRobotTest/Script.robot" | get-menu "Debug As/1 Robot Test" 
	    | click
	wait 2000
	try -times 15 -delay 200 -command{
		//debug stops on first breakpoint
		get-view Variables | get-tree | get-property itemCount -raw |int | gt 1 | verify-true
	}
	
	
	with [get-tab-folder -index 1] {
    	double-click
    	get-tab-item Variables | click
	}
	try -times 5 -delay 1000 -command{
		get-view Variables | get-tree  | select "Global Variables" | double-click
	}
	
	try -times 2 -delay 1000 -command {
		get-view Variables | get-tree | get-item "Global Variables"| get-property "getItemCount()" -raw | int| gt 1| verify-true	
	}
	
	get-view Variables | get-tree | select "Global Variables"
	
	if [$robot_version | matches "^Robot Framework 2\.9\.\d .*"] {
			get-view Variables | get-tree | get-item "Global Variables" | get-property "getItemCount()" | equals 19| verify-true
			
			with [get-view Variables | get-tree] {
			    get-item "Global Variables" | get-property "getItems().TreeItem[0].getText()" | equals "${/}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[1].getText()" | equals "${:}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[2].getText()" | equals "${DEBUG_FILE}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[3].getText()" | equals "${EXECDIR}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[4].getText()" | equals "${False}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[5].getText()" | equals "${LOG_FILE}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[6].getText()" | equals "${LOG_LEVEL}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[7].getText()" | equals "${None}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[8].getText()" | equals "${OUTPUT_DIR}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[9].getText()" | equals "${OUTPUT_FILE}" 
			        | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[10].getText()" | equals "${PREV_TEST_MESSAGE}" 
			        | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[11].getText()" | equals "${PREV_TEST_NAME}" 
			        | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[12].getText()" | equals "${PREV_TEST_STATUS}" 
			        | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[13].getText()" | equals "${REPORT_FILE}" 
			        | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[14].getText()" | equals "${SPACE}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[15].getText()" | equals "${TEMPDIR}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[16].getText()" | equals "${True}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[17].getText()" | equals "${\\n}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[18].getText()" | equals "${null}" | verify-true
			}
		}-else{	
			get-view Variables | get-tree | get-item "Global Variables" | get-property "getItemCount()" | equals 21| verify-true
			
			with [get-view Variables | get-tree] {
			    get-item "Global Variables" | get-property "getItems().TreeItem[0].getText()" | equals "${/}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[1].getText()" | equals "${:}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[2].getText()" | equals "${DEBUG_FILE}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[3].getText()" | equals "${EMPTY}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[4].getText()" | equals "${EXECDIR}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[5].getText()" | equals "${False}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[6].getText()" | equals "${LOG_FILE}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[7].getText()" | equals "${LOG_LEVEL}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[8].getText()" | equals "${None}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[9].getText()" | equals "${OUTPUT_DIR}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[10].getText()" | equals "${OUTPUT_FILE}" 
			        | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[11].getText()" | equals "${PREV_TEST_MESSAGE}" 
			        | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[12].getText()" | equals "${PREV_TEST_NAME}" 
			        | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[13].getText()" | equals "${PREV_TEST_STATUS}" 
			        | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[14].getText()" | equals "${REPORT_FILE}" 
			        | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[15].getText()" | equals "${SPACE}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[16].getText()" | equals "${TEMPDIR}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[17].getText()" | equals "${True}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[18].getText()" | equals "${\\n"
			        + "}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[19].getText()" | equals "${null}" | verify-true
			    get-item "Global Variables" | get-property "getItems().TreeItem[20].getText()" | equals "@{EMPTY}" | verify-true
			}
		}		
	get-button "Terminate (M1+F2)" | click
}
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
