--- RCPTT testcase ---
Format-Version: 1.0
Element-Name: DebugPerspectiveBreakpointsStepInto
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _6f0ikPV_EeSOBqdItMO82A
Runtime-Version: 1.5.5.201503020312
Save-Time: 5/11/15 3:42 PM
Testcase-Type: ecl

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Content-Type: text/plain
Entry-Name: .description

Testcase:
1. creates a simple robot script
2. adds a breakpoint
3. runs robot script in debug mode and goes through the script with "Step Into" command to get inside keyword execution, verifies line by line if correct log prints appear
4. runs robot script in debog mode for the second time, this time we use Step Over option - whole keyword should execute at once, verifies if all log prints appear correctly
------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

set-q7-option jobHangTimeout 1000

get-view "Project Explorer" | get-tree | select RobotProject | get-menu "New/Robot Test Suite" | click
with [get-window "New Robot Test Suite"] {
    with [get-editbox -after [get-label "File name:"]] {
        set-text "RobotSuite.robot"
    }
    get-button Finish | click
}

get-editor "RobotSuite.robot" | close

get-view "Project Explorer" | get-tree | select "RobotProject/RobotSuite.robot" | get-menu "Open With/Robot Text Editor" | click

with [get-editor "Robot Text Editor" | get-text-viewer] {
    key-type "M1+SPACE"
    key-type "NUMPAD_ENTER" "\\u000D" -times 2
    key-type "NUMPAD_ENTER" "\\u000D"
    key-type "M1+SPACE"
    key-type Down
    key-type "NUMPAD_ENTER" "\\u000D" -times 3
    key-type "M1+SPACE"
    key-type Down -times 2
    key-type "NUMPAD_ENTER" "\\u000D" -times 3
    key-type "M1+SPACE"
    key-type Down -times 3
    key-type "NUMPAD_ENTER" "\\u000D"
    key-type "M1+s"
}
with [get-editor "Robot Text Editor" | get-text-viewer] {
    set-caret-pos 7 17
    key-type Enter
    type-text MyKeyword
    key-type Enter
    key-type Tab
    type-text Log
    key-type Tab
    type-text "First line of keyword"
    key-type Enter
    type-text "Log"
    key-type Tab
    type-text "Second line of keyword"
    key-type Enter
    type-text "Log"
    key-type Tab
    type-text "Third line of keyword"
    key-type "M1+s"
}
with [get-editor "Robot Text Editor" | get-text-viewer] {
    set-caret-pos 6 1
    type-text "test"
    key-type Enter
    key-type Tab
    type-text "Log"
    key-type Tab
    type-text "Lets start keyword"
    key-type Enter
    type-text "MyKeyword"
    key-type Enter
    type-text "Log"
    key-type Tab
    type-text "End of Keyword"
    key-type "M1+s"
}



get-editor "Robot Text Editor" | get-left-ruler | get-ruler-column AnnotationRulerColumn | double-click-ruler 8
get-view "Project Explorer" | get-tree | select "RobotProject/RobotSuite.robot" | get-menu "Debug As/1 Robot Test" 
    | click

get-view "Message Log" | get-editbox | get-property text | contains "INFO : Lets start keyword" | verify-true
get-view "Message Log" | get-editbox | get-property text | contains "INFO : First line of keyword" | verify-false

wait 500
get-button "Step Into (F5)" | click	//We should get inside keyword, execute it step by step
wait 500
get-button "Step Into (F5)" | click

get-view "Message Log" | get-editbox | get-property text | contains "INFO : First line of keyword" | verify-true
get-view "Message Log" | get-editbox | get-property text | contains "INFO : Second line of keyword" | verify-false
wait 500
get-button "Step Into (F5)" | click

get-view "Message Log" | get-editbox | get-property text | contains "INFO : Second line of keyword" | verify-true
get-view "Message Log" | get-editbox | get-property text | contains "INFO : Third line of keyword" | verify-false
wait 500
get-button "Step Into (F5)" | click


get-view "Message Log" | get-editbox | get-property text | contains "INFO : Third line of keyword" | verify-true
get-view "Message Log" | get-editbox | get-property text | contains "INFO : End of Keyword" | verify-false
wait 500
get-button "Step Over (F6)" | click	//Robot script execution should end here

get-view Console | get-text-viewer | get-property text | contains ERROR | verify-false

wait 500
get-eclipse-window | key-type F11	//Rerun the same testcase in debug mode second time (F11 = Run -> Debug)


get-view "Message Log" | get-editbox | get-property text | contains "INFO : Lets start keyword" | verify-true
get-view "Message Log" | get-editbox | get-property text | contains "INFO : First line of keyword" | verify-false
wait 500
get-button "Step Over (F6)" | click	//Do not enter into keyword 


get-view "Message Log" | get-editbox | get-property text | contains "INFO : First line of keyword" | verify-true
get-view "Message Log" | get-editbox | get-property text | contains "INFO : Second line of keyword" | verify-true
get-view "Message Log" | get-editbox | get-property text | contains "INFO : Third line of keyword" | verify-true
wait 500
get-button "Resume (F8)" | click

get-view Console | get-text-viewer | get-property text | contains ERROR | verify-false

//get-view Console | get-button "Clear Console" | click


------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
