--- RCPTT testcase ---
Format-Version: 1.0
Element-Name: AddingVariablesUsingContentAssistInSuite
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _YRYqkISeEeWImNPXuPy_LQ
Runtime-Version: 2.0.0.201506120617
Save-Time: 11/6/15 4:55 PM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

get-view "Project Explorer" | get-tree | select "RobotProject/TestFile.robot" | select "RobotProject/TestFile.robot" 
    | double-click
with [get-editor "TestFile.robot" | get-text-viewer] {
    key-type "M1+a"
    key-type Del
    key-type "M1+SPACE"
    key-type Down -times 3
    key-type Enter
    
	//add varaibles
    key-type "M1+SPACE"
 
	with [get-window -from "CompletionProposalPopup.createProposalSelector()" | get-table] {
	    get-property itemCount | equals 7| verify-true
	    get-property "getItems().TableItem[0].getText()" | equals "Fresh scalar" | verify-true
	    get-property "getItems().TableItem[1].getText()" | equals "Fresh list" | verify-true
	    get-property "getItems().TableItem[2].getText()" | equals "Fresh dictionary" | verify-true
	    get-property "getItems().TableItem[3].getText()" | equals "*** Keywords ***" | verify-true
	    get-property "getItems().TableItem[4].getText()" | equals "*** Settings ***" | verify-true
	    get-property "getItems().TableItem[5].getText()" | equals "*** Test Cases ***" | verify-true
	    get-property "getItems().TableItem[6].getText()" | equals "*** Variables ***" | verify-true
	}
	key-type Esc
}

with [get-editor "TestFile.robot" | get-text-viewer] {
	//add defualt scalar
    key-type "M1+SPACE"
    key-type Enter
    key-type Right -times 2
    type-text "  1"
    key-type Enter
    //add default list
    key-type "M1+SPACE"
    key-type Down
    key-type Enter
    key-type Right -times 2
    type-text "  1  2"
    key-type Enter
    
    //add default dict
    key-type "M1+SPACE"
    key-type Down -times 2
    key-type Enter
    key-type Right -times 2
    type-text "  1=2"
    key-type Enter -times 2
    
    //add user defined scalar
    key-type "M1+SPACE"
    key-type Enter
    key-type BackSpace
    type-text x
    key-type Right -times 3
    type-text 2
    key-type Enter
    
    //add user name list
    key-type "M1+SPACE"
    key-type Down
    key-type Enter
    type-text list
    key-type Right -times 3
    type-text "5  6  text"
    key-type Enter
    
    //add user name dict
    key-type "M1+SPACE"
    key-type Down -times 2
    key-type Enter
    type-text abc
    key-type Right
    type-text "  x=y"
}
get-editor "TestFile.robot" | get-text-viewer | get-property text | equals "*** Variables ***\n"
    + "${newScalar}  1\n"
    + "@{newList}  1  2\n"
    + "&{newDict}  1=2\n\n"
    + "${x}  2\n"
    + "@{list}  5  6  text\n"
    + "&{abc}  x=y" | verify-true
    
    
with [get-editor "TestFile.robot" | get-text-viewer] {
    set-caret-pos 8 23
    key-type "NUMPAD_ENTER" "\\u000D" -times 2
    key-type "M1+SPACE"
    
    with [get-window -from "CompletionProposalPopup.createProposalSelector()" | get-table] {
	    get-property itemCount | equals 7| verify-true
	    get-property "getItems().TableItem[0].getText()" | equals "Fresh scalar" | verify-true
	    get-property "getItems().TableItem[1].getText()" | equals "Fresh list" | verify-true
	    get-property "getItems().TableItem[2].getText()" | equals "Fresh dictionary" | verify-true
	    get-property "getItems().TableItem[3].getText()" | equals "*** Keywords ***" | verify-true
	    get-property "getItems().TableItem[4].getText()" | equals "*** Settings ***" | verify-true
	    get-property "getItems().TableItem[5].getText()" | equals "*** Test Cases ***" | verify-true
	    get-property "getItems().TableItem[6].getText()" | equals "*** Variables ***" | verify-true
	}
	key-type Esc
	
}

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
