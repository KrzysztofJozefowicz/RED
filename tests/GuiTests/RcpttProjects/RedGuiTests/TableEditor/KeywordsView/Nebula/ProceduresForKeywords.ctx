--- RCPTT testcase ---
Format-Version: 1.0
Context-Type: org.eclipse.rcptt.ctx.ecl
Element-Name: ProceduresForKeywords
Element-Type: context
Element-Version: 2.0
Id: _YI1vUFJyEea8WJ7bbC6OBw
Runtime-Version: 2.1.0.201606221726
Save-Time: 7/27/16 5:31 PM

------=_.ecl.context-718f04b4-ed39-33e3-af62-0995e4561998
Content-Type: text/ecl
Entry-Name: .ecl.context

proc "my-assert-true" [val result -input] [val expected] [val col] [val row] {	
	$result | eq $expected | assert-true -message [format "Value in row %s, colum %s should be: '%s', but is '%s'" $row $col $expected $result]
}


//HINT: do not use hexstring in comments! As parameter in procedure they are converted to decimal value

//rows starts from 1
proc "check-keyword-row" [val file] [val row] [val kw ""] [val c1 ""] [val c2 ""] [val c3 "" ] [val c4 "" ] [val c5 "" ] [val comment "" ]
{
	get-editor $file | get-canvas -after [get-label "User Keywords"] -index 1 | get-object | invoke getCellByPosition 1 $row|  invoke getDataValue 
		| my-assert-true -expected $kw -row $row -col 1 
	get-editor $file | get-canvas -after [get-label "User Keywords"] -index 1  | get-object | invoke getCellByPosition 2 $row|  invoke getDataValue 
	    | my-assert-true -expected $c1 -row $row -col 1 
	get-editor $file | get-canvas -after [get-label "User Keywords"] -index 1  | get-object | invoke getCellByPosition 3 $row|  invoke getDataValue 
	    | my-assert-true -expected $c2 -row $row -col 1 
	get-editor $file | get-canvas -after [get-label "User Keywords"] -index 1  | get-object | invoke getCellByPosition 4 $row|  invoke getDataValue 
	    | my-assert-true -expected $c3 -row $row -col 1 
	get-editor $file | get-canvas -after [get-label "User Keywords"] -index 1  | get-object | invoke getCellByPosition 5 $row|  invoke getDataValue 
	    | my-assert-true -expected $c4 -row $row -col 1     
	get-editor $file | get-canvas -after [get-label "User Keywords"] -index 1  | get-object | invoke getCellByPosition 6 $row|  invoke getDataValue 
	    | my-assert-true -expected $c5 -row $row -col 1 
	get-editor $file | get-canvas -after [get-label "User Keywords"] -index 1  | get-object | invoke getCellByPosition 7 $row|  invoke getDataValue 
	    | my-assert-true -expected $comment -row $row -col 1 
}

proc "check-markers-in-table"  [val type ERROR] [val lines]  {

	$lines | each [val line]{
		get-editor "TestFile.robot" | get-canvas -after [get-label "User Keywords"] -index 1  | get-object 
		    | invoke getLayer| invoke getConfigLabelsByPosition 0 $line|  invoke getLabels  |invoke contains $type | equals true | assert-true -message [format "In line %s is no marker" $line]
	}

}


proc "compare-row-with-list" [val file]  [val col_amount] [val row] [val ref_table]
{	
	repeat [val index] -times $col_amount -command{
		$ref_table | get $index| let [val ref_value -input]{
			get-editor $file | get-canvas -after [get-label "User Keywords"] -index 1 | get-object | invoke getCellByPosition [plus $index 1] $row | invoke getDataValue 
			     |  my-assert-true -expected  $ref_value -row $row -col [plus $index 1]
		} 
	}
}
------=_.ecl.context-718f04b4-ed39-33e3-af62-0995e4561998--
