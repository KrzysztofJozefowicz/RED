--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _YI1vUFJyEea8WJ7bbC6OBw
Element-Name: AddingKeywordByMenu
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: __XyeQFJ2Eea8WJ7bbC6OBw
Runtime-Version: 2.1.0.201606221726
Save-Time: 7/25/16 5:43 PM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

get-view "Project Explorer" | get-tree | select "RobotProject/TestFile.robot" | double-click


get-editor "TestFile.robot" | get-text-viewer |set-text "*** Test Cases ***\n"
    + "test 1\n"
    + "    Log    7\n"
    + "*** Settings ***\n"
    + "Library    Collections\n"
    + "*** Keyword ***\n"
    + "Keyword\n"
    + "    Log    1    3\n"
    + "    Should Be Empty    new    #wrong tab" 

    
get-editor "TestFile.robot" | get-tab-folder | get-tab-item Keywords | click
get-view Outline | get-tree | select "TestFile.robot/Keywords/Keyword/Should Be Empty"
with [get-editor "TestFile.robot"] {
    with [get-canvas -after [get-label "User Keywords"] -index 1] {
    	//add new keywors above Should be empty
        key-type Right
        get-menu "Add new keyword" | click
        key-type Left
        key-type Enter
    }
    //set name
    with [get-editbox -after [get-label "User Keywords"] -index 1] {
        type-text "Second line"
        key-type Enter
    }
    get-editbox -after [get-label "User Keywords"] -index 1 | key-type "TRAVERSE_ESCAPE"
    with [get-canvas -after [get-label "User Keywords"] -index 1] {
    	//go to "Keyword"  and add new  KW
        key-type Left
        key-type Up -times 2
        get-menu "Add new keyword" | click
        //go to button ",,,"
        key-type Down -times 6
    }
}

//check that here menu is dispable
get-editor "TestFile.robot" | get-canvas -after [get-label "User Keywords"] -index 1 | get-menu "Add new keyword" 
    | get-property enablement | equals false | verify-true
    

with [get-editor "TestFile.robot"] {
    with [get-canvas -after [get-label "User Keywords"] -index 1] {
        key-type Up -times 4
        get-menu "Add new keyword" | click
        key-type Enter
    }
    with [get-editbox -after [get-label "User Keywords"] -index 1] {
        type-text "in the middle"
        key-type Enter
    }
}      
// check that at "...add new.." menu is disable
with [get-editor "TestFile.robot" | get-canvas -after [get-label "User Keywords"] -index 1] {
    key-type Down -times 6
    key-type Left
    key-type Down
}
get-editor "TestFile.robot" | get-canvas -after [get-label "User Keywords"] -index 1 | get-menu "Add new keyword" 
    | get-property enablement | equals false | verify-true
    
    
check-keyword-row -file "TestFile.robot" -row 1  -kw "Keyword 1"    
check-keyword-row -file "TestFile.robot" -row 2  -kw "..."  

check-keyword-row -file "TestFile.robot" -row 3  -kw "in the middle"  
check-keyword-row -file "TestFile.robot" -row 4  -kw "..."  

check-keyword-row -file "TestFile.robot" -row 5  -kw "Keyword"  
check-keyword-row -file "TestFile.robot" -row 6  -kw "Log"  -c1 "1" -c2 "3"
check-keyword-row -file "TestFile.robot" -row 7  -kw "Second line"  
check-keyword-row -file "TestFile.robot" -row 8  -kw "Should Be Empty"  -c1 "new"  -comment "#wrong tab"
check-keyword-row -file "TestFile.robot" -row 9  -kw "..."
check-keyword-row -file "TestFile.robot" -row 10  -kw "...add new keyword"
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
