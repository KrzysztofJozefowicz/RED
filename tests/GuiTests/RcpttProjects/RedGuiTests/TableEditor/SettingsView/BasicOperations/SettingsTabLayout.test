--- RCPTT testcase ---
Format-Version: 1.0
Element-Name: SettingsTabLayout
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: __KaXoDPMEeat08T3d_ERug
Runtime-Version: 2.0.2.201511100828
Save-Time: 7/4/16 9:36 AM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

//open empty file
get-view "Project Explorer" | get-tree | select "RobotProject/TestFile.robot" | double-click

//go to Settings tab
get-editor "TestFile.robot" | get-tab-folder | get-tab-item Settings | click

//check message
with [get-editor "TestFile.robot"] {
    get-canvas | get-property "getMessage()" | equals "Section is not yet defined, do you want to create it?" 
        | verify-true
    //check that Documentation is not editable    
    with [get-section General] {
        get-editbox -index 1 | get-property "getEditable()" | equals false | verify-true
        get-property "getDescription()" | equals "Provide test suite documentation and general settings" | verify-true
    }
}


//check tabs on page
with [get-editor "TestFile.robot" | get-control Any 
    -after [get-link "Section is not yet defined, do you want to create it?"]] {
    get-property "getTabList().Control[0].getDescription()" 
        | equals "Provide test suite documentation and general settings" | verify-true
    get-property "getTabList().Control[0].isExpanded()" | equals true | verify-true
    get-property "getTabList().Control[0].getText()" | equals General | verify-true
    
    get-property "getTabList().Control[1].isExpanded()" | equals false | verify-true
    get-property "getTabList().Control[1].getText()" | equals Metadata | verify-true
    
    get-property "getTabList().Control[2].isExpanded()" | equals false | verify-true
    get-property "getTabList().Control[2].getText()" | equals Imports | verify-true
}

//add section
with [get-editor "TestFile.robot"] {
    get-section Imports | click
    get-link "Section is not yet defined, do you want to create it?" | click
}
//check if Documentation is enable to edit
//is anable ater clicking
get-editor "TestFile.robot" | get-section General | get-editbox -index 1 | get-property "getEditable()" | equals false 
    | verify-true
    
//click on box    
get-editor "TestFile.robot" | get-section General | get-editbox -index 1 | click

get-editor "TestFile.robot" | get-section General | get-editbox -index 1 | get-property "getEditable()" | equals true 
    | verify-true
    
//add resource    
get-view "Project Explorer" | get-tree | select RobotProject | get-menu "New/Robot Resource file" | click
with [get-window "New Robot Resource file"] {
    get-editbox -after [get-label "File name:"] | set-text res
    get-button Finish | click
}
//go to Settings
get-editor "res.robot" | get-tab-folder | get-tab-item Settings | click
with [get-editor "res.robot"] {
    get-canvas | get-property "getMessage()" | equals "Section is not yet defined, do you want to create it?" 
        | verify-true

   //check Documentation     
    with [get-section General | get-editbox -index 1] {
        get-property text | equals "" | verify-true
        get-property "getEditable()" | equals false | verify-true
    }
}

//check sections
with [get-editor "res.robot" | get-control Any 
    -after [get-link "Section is not yet defined, do you want to create it?"]] {
    get-property "getTabList().length" | equals 2 | verify-true
    get-property "getTabList().Control[0].getDescription()" 
        | equals "Provide test suite documentation and general settings" | verify-true
    get-property "getTabList().Control[0].isExpanded()" | equals true | verify-true
    get-property "getTabList().Control[0].getText()" | equals General | verify-true
    get-property "getTabList().Control[1].getDescription()" | equals "" | verify-true
    get-property "getTabList().Control[1].isExpanded()" | equals true | verify-true
    get-property "getTabList().Control[1].getText()" | equals Imports | verify-true
}

//add section and check if user can edit Documentation
get-editor "res.robot" | get-link "Section is not yet defined, do you want to create it?" | click
get-editor "res.robot" | get-section General | get-editbox -index 1 | get-property "getEditable()" | equals false 
    | verify-true
    
//click on box    
get-editor "res.robot" | get-section General | get-editbox -index 1 | click
get-editor "res.robot" | get-section General | get-editbox -index 1 | get-property "getEditable()" | equals true 
    | verify-true

     
//save all and check Source
get-button "Save All (M1+M2+S)" | click
get-editor "res.robot" | get-tab-folder | get-tab-item Source | click
get-editor "res.robot" | get-text-viewer | get-property text | equals "*** Setting ***" | verify-true


get-tab-folder -index 1 | get-tab-item "TestFile.robot" | click
get-editor "TestFile.robot" | get-tab-folder | get-tab-item Source | click
get-editor "TestFile.robot" | get-text-viewer | get-property text | equals "*** Setting ***\n"
    + "*** Test Cases ***" | verify-true    
    
    
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
