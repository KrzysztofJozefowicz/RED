--- RCPTT testcase ---
Format-Version: 1.0
Context-Type: org.eclipse.rcptt.ctx.ecl
Element-Name: ProceduresForVaraibleView
Element-Type: context
Element-Version: 2.0
Id: _9iuJED04EeaUDrMBSMf5Ag
Runtime-Version: 2.0.2.201511100828
Save-Time: 7/8/16 1:09 PM

------=_.ecl.context-718f04b4-ed39-33e3-af62-0995e4561998
Content-Type: text/ecl
Entry-Name: .ecl.context

//HINT: do not use hexstring in comments! As parameter in procedure they are converted to decimal value

//rows starts from 1
proc "check-variable-row" [val file] [val row] [val var] [val value] [val comment "" ] 
{
	get-editor $file | get-canvas -after [get-label Variables] -index 1 | get-object | invoke getCellByPosition 1 $row|  invoke getDataValue| eq $var |verify-true
	get-editor $file | get-canvas -after [get-label Variables] -index 1 | get-object | invoke getCellByPosition 2 $row|  invoke getDataValue| eq $value |verify-true
	get-editor $file | get-canvas -after [get-label Variables] -index 1 | get-object | invoke getCellByPosition 3 $row|  invoke getDataValue| eq $comment |verify-true
}

//rows starts from 0
proc "is-row-fully-selected" [val file]  [val row]{
	get-editor $file| get-canvas -after [get-label Variables] -index 1 | get-object | invoke getLayer | invoke getBodyLayer | invoke getScrollableLayer
		| invoke isRowPositionFullySelected $row | eq true | verify-true

	with [get-editor $file | get-canvas -after [get-label Variables] -index 1] {
	    get-property "getLayer().getBodyLayer().getScrollableLayer().hasRowSelection()" | equals true | verify-true
	    get-property "getLayer().getBodyLayer().getScrollableLayer().getSelectedRowCount()" | equals 1 | verify-true
	}
} 

//wait for items in view (add 1 because button "..add" counts too)
proc "wait-for-var-in-table" [val file ] [val count 1]{
	try -times 5 -delay 1000 -command{
		get-editor $file | get-canvas -after [get-label Variables] -index 1 
	    	| get-property "getLayer().getBodyLayer().getScrollableLayer().getRowCount()" | equals $count | verify-true
	}
}
------=_.ecl.context-718f04b4-ed39-33e3-af62-0995e4561998--
