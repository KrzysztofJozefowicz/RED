--- RCPTT testcase ---
Format-Version: 1.0
Element-Name: InstalledFrameworks
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _4M2r0AB_EeWittqS49qH2Q
Runtime-Version: 1.5.5.201503020312
Save-Time: 6/2/15 2:05 PM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

//Open Robot preference
get-preferences-menu | click
get-window Preferences | get-tree | select "Robot Framework/Installed frameworks" | double-click

////Check Label
//with [get-window Preferences] {
//    get-label "Add or remove Robot frameworks definitions. By default the checked framework is added to the build path of newly created Robot projects." 
//        | get-property caption 
//        | equals "Add or remove Robot frameworks definitions. By default the checked framework is added to the build path of newly created Robot projects." 
//        | verify-true
//}
        
//Check installed table properites
with [get-window Preferences] {        
    get-label "Installed frameworks" | get-property caption | equals "Installed frameworks" | verify-true
    with [get-table] {
        get-property itemCount | equals 1 | verify-true
        get-property "columns[0].caption" | equals Name | verify-true
        get-property "columns[1].caption" | equals Path | verify-true
        //check if it is selcted
        get-item ".*" | get-property selected | equals false 
            | verify-true
        //check if it is checked
        get-item ".*" | get-property checked | equals true | verify-true
        
	}
}
//check how looks buttons   
with [get-window Preferences] {
    with [get-button "Add..."] {
        get-property enablement | equals true | verify-true
        get-property caption | equals "Add..." | verify-true
        get-property selected | equals false | verify-true
        get-property kind | equals Push | verify-true
    }
    with [get-button Remove] {
        get-property enablement | equals false | verify-true
        get-property caption | equals Remove | verify-true
        get-property selected | equals false | verify-true
        get-property kind | equals Push | verify-true
    }
    with [get-button "Install Robot"] {
        get-property enablement | equals false | verify-true
        get-property caption | equals "Install Robot" | verify-true
        get-property selected | equals false | verify-true
        get-property kind | equals Push | verify-true
    }
}

//check robot and pytohn verion and select default one
if [get-by-os -linux "Linux" -win "Windows"|equals "Windows"]{      
	with [get-window Preferences] {        
	    get-label "Installed frameworks" | get-property caption | equals "Installed frameworks" | verify-true
			with [get-table] {
		        get-item ".*" | get-property "columns[0]" 
		            | equals "Robot Framework.*" | verify-true
		            //Robot Framework.*
		            //equals "Robot Framework 2.8.7 (Python 2.7.8 on win32)" 
		        get-item ".*" | get-property "columns[1]" 
		            | equals "c:\\Python27" | verify-true
		    }
		    
	    }
	get-window Preferences | get-table | select "Robot Framework.*"
}-else {
	with [get-window Preferences] {        
	    get-label "Installed frameworks" | get-property caption | equals "Installed frameworks" | verify-true
			with [get-table] {
		        get-item ".*" | get-property "columns[0]" 
		            | equals "Robot Framework.*"  | verify-true
		        get-item ".*" | get-property "columns[1]" 
		            | equals "/usr/bin" | verify-true
		    }
		    
	    }
	get-window Preferences | get-table | select "Robot Framework.*" 


}

//check how buttons were changed (Remove and Install are enable now)
with [get-window Preferences] {
    with [get-button "Add..."] {
        get-property enablement | equals true | verify-true
        get-property selected | equals false | verify-true
    }
    with [get-button Remove] {
        get-property enablement | equals true | verify-true
        get-property selected | equals false | verify-true
    }
    with [get-button "Update Robot"] {
        get-property enablement | equals true | verify-true
        get-property selected | equals false | verify-true
    }
}
get-window Preferences | get-button OK | click


//check librery description
get-view "Project Explorer" | get-tree | select "RobotProject/Robot Standard libraries \\[???\\]"
with [get-view "Project Explorer" | get-tree] {
    get-item "RobotProject/Robot Standard libraries \\[???\\]" | get-property caption 
        | equals "Robot Standard libraries [???]" | verify-true
}
get-menu "File/New/Robot Project" | click
with [get-window "New Robot project"] {
    get-editbox -after [get-label "Project name:"] | set-text "To_remove"
    get-button Finish | click
}

//check if has label
if [get-by-os -linux "Linux" -win "Windows"|equals "Windows"]{ 
	with [get-view "Project Explorer" | get-tree] {
	    get-item "To_remove/Robot Standard libraries \\[Robot Framework.*" 
	        | get-property caption | equals "Robot Standard libraries \\[Robot Framework.*" 
	        | verify-true
	}
}-else{
	 get-view "Project Explorer" | get-tree 
    | get-item "To_remove/Robot Standard libraries \\[Robot Framework.*" 
    | get-property caption | equals "Robot Standard libraries [Robot Framework.*" 
    | verify-true
	
}

get-view "Project Explorer" | get-tree | select "To_remove" | get-menu Delete | click
with [get-window "Delete Resources"] {
    get-button "Delete project contents on disk (cannot be undone)" | check
    get-button OK | click
}
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
