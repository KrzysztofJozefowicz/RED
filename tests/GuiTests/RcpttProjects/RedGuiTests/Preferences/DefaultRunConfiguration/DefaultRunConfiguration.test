--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _d8aMACuvEeW667Afdo4DcA
Element-Name: DefaultRunConfiguration
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _XUivgOobEea0ALtmCcrmfA
Runtime-Version: 2.1.0.201606221726
Save-Time: 3/3/17 4:15 PM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

//check default preference
get-preferences-menu | click
get-window Preferences | get-tree | select "Robot Framework/Default Launch Configurations"
with [get-window Preferences] {
    with [get-control Any -after [get-label "Default Launch Configurations"] -index 9] {
        get-property "getChildren().Control[0].getText()" | equals "Configure default robot launch configurations" 
            | verify-true
            
        //check how muchh is gropus    
        get-property "getChildren().Control[1].getChildren().length" | equals 3 | verify-true
        get-property "getChildren().Control[1].getChildren().Control[0].getText()" | equals "Main tab" | verify-true
        get-property "getChildren().Control[1].getChildren().Control[1].getText()" | equals "Remote tab" | verify-true
        get-property "getChildren().Control[1].getChildren().Control[2].getText()" | equals "Script tab" | verify-true
    }
    
    //main tab
    with [get-group "Main tab"] {
        get-property "getChildren().length" | equals 4 | verify-true
        get-property "getChildren().Control[0].getText()" | equals "Additional interpreter arguments:" | verify-true
        get-property "getChildren().Control[1].getText()" | equals "" | verify-true
        get-property "getChildren().Control[1].getEditable()" | equals true | verify-true
        get-property "getChildren().Control[2].getText()" | equals "Additional Robot Framework arguments:" | verify-true
        get-property "getChildren().Control[3].getText()" | equals "" | verify-true
        get-property "getChildren().Control[3].getEditable()" | equals true | verify-true
    }
    
    //remote tab
    with [get-group "Remote tab"] {
        get-property "getChildren().length" | equals 6 | verify-true
        get-property "getChildren().Control[0].getText()" | equals "Local IP:" | verify-true
        get-property "getChildren().Control[1].getText()" | equals "127.0.0.1" | verify-true
        get-property "getChildren().Control[1].getEditable()" | equals true | verify-true
        get-property "getChildren().Control[2].getText()" | equals "Local port:" | verify-true
        get-property "getChildren().Control[3].getText()" | equals 12345 | verify-true
        get-property "getChildren().Control[4].getText()" | equals "Connection timeout [s]:" | verify-true
        get-property "getChildren().Control[5].getText()" | equals 30 | verify-true
    }
    
    //script tab
    with [get-group "Script tab"] {
        get-property "getChildren().length" | equals 5 | verify-true
        get-property "getChildren().Control[0].getText()" | equals "Executor script path:" | verify-true
        get-property "getChildren().Control[1].getText()" | equals "" | verify-true
        get-property "getChildren().Control[1].getEditable()" | equals true | verify-true
        get-property "getChildren().Control[2].getText()" | equals "&Browse..." | verify-true
        get-property "getChildren().Control[3].getText()" | equals "Additional script arguments:" | verify-true
        get-property "getChildren().Control[4].getText()" | equals "" | verify-true
        get-property "getChildren().Control[4].getEditable()" | equals true | verify-true
    }
    get-button "Restore Defaults" | get-property enablement | equals true | verify-true
    get-button Apply | get-property enablement | equals true | verify-true
}

//validation
proc "check-if-no-error-is-shown"{
	get-window Preferences | get-label "Default Launch Configurations" | get-property caption 
      | equals "Default Launch Configurations" | verify-true
}

proc "check-error"[val type]{
	if [$type | eq "port"]{
		get-window Preferences | get-editbox -index 1 | get-property text 
	      | equals "Value must be an Integer between 1 and 65( |,)535" | verify-true
    }
    if [$type | eq "timeout"]{ 
    	get-window Preferences | get-editbox -index 1 | get-property text 
   		  | equals "Value must be an Integer between 1 and 3( |,)600" | verify-true
    }
}
//Remote

//IP
get-window Preferences | get-group "Remote tab" | get-editbox -after [get-label "Local IP:"] | set-text ""
check-if-no-error-is-shown

get-window Preferences | get-group "Remote tab" | get-editbox -after [get-label "Local IP:"] | set-text "12.4.444444.4"
check-if-no-error-is-shown


//port
get-window Preferences | get-group "Remote tab" | get-editbox -after [get-label "Local port:"] | set-text 0
check-error -type "port"

get-window Preferences | get-group "Remote tab" | get-editbox -after [get-label "Local port:"] | set-text 8
check-if-no-error-is-shown

get-window Preferences | get-group "Remote tab" | get-editbox -after [get-label "Local port:"] | set-text ""
check-error -type "port"

//timeout
get-window Preferences | get-group "Remote tab" | get-editbox -after [get-label "Connection timeout [s]:"] 
    | set-text "466.90"
check-error -type "timout"
        
get-window Preferences | get-group "Remote tab" | get-editbox -after [get-label "Connection timeout [s]:"] | set-text 89
check-if-no-error-is-shown

get-window Preferences | get-group "Remote tab" | get-editbox -after [get-label "Connection timeout [s]:"] | set-text ""
check-error -type "timout"


get-window Preferences | get-button Cancel | click


------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
