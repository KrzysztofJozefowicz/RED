--- RCPTT testcase ---
Format-Version: 1.0
Element-Name: CreateProjectOutsideWS
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _XYaQ4GayEeWtd9WfYYPSCg
Runtime-Version: 2.0.2.201511100828
Save-Time: 1/19/16 5:18 PM
Testcase-Type: ecl
Verifications: _Kns9gGa9EeWtd9WfYYPSCg

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

get-java-property "user.home" |let [val user_home -input]{
	concat $user_home "/new_folder"| let [val project_path_outside_ws -input] {

		if [get-file [uri-from-path $project_path_outside_ws] | get exists]{
			delete-file [uri-from-path $project_path_outside_ws]
		}
		get-view "Project Explorer" | get-tree | get-menu "New/Robot Project" | click
		with [get-window "New Robot project"] {
		    get-editbox -after [get-label "Project name:"] | set-text new
		    get-button "Use default location" | uncheck
		}
		
		with [get-window "New Robot project"] {
	    get-editbox -after [get-label "Robot Project"] | get-property text 
	        | equals "Project location directory must be specified" | verify-true
	    get-editbox -after [get-label "Location:"] | get-property text | equals "" | verify-true
		}
	
		set-dialog-result Folder $project_path_outside_ws

		with [get-window "New Robot project"] {
		    get-button "Browse..." | click
		    get-button Finish | click
		}
		get-view "Project Explorer" | get-tree | select new | get-menu "New/Robot Test Suite" | click
		with [get-window "New Robot Test Suite"] {
		    get-editbox -after [get-label "File name:"] | set-text "test.robot"
		    get-button Finish | click
		}
		with [get-editor "test.robot"] {
		    with [get-text-viewer] {
		        set-caret-pos 1 19
		        key-type "NUMPAD_ENTER" "\\u000D"
		        type-text aba
		        key-type Enter
		        key-type Tab
		        type-text "Log   5"
		        key-type "M1+s"
		    }
		    close
		}
		get-view "Project Explorer" | get-tree | select new | select new | get-menu Delete | click
		get-window "Delete Resources" | get-button OK | click
		get-view "Project Explorer" | get-tree | get-menu "Import..." | click
		with [get-window Import | get-tree] {
		    select General | select General | double-click
		    select "General/Existing Projects into Workspace" | select "General/Existing Projects into Workspace" | double-click
		}
		set-dialog-result Folder $project_path_outside_ws
		with [get-window Import] {
		    get-button "Browse..." | click
		    get-button Finish | click
		}
	}
}

get-tab-folder -index 3 | get-tab-item Problems | click
get-view Problems | get-tree | get-property itemCount | equals 0 | verify-true

get-view "Project Explorer" | get-tree | select "RobotProject/TestSuiteFolder" | double-click

wait 2000
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
