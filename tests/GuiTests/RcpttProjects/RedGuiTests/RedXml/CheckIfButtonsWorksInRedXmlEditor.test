--- RCPTT testcase ---
Format-Version: 1.0
Element-Name: CheckIfButtonsWorksInRedXmlEditor
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _sucj8JHsEeWEZYgZQ8Au9A
Runtime-Version: 2.0.2.201511100828
Save-Time: 12/16/15 5:20 PM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

// activate buttons for variable mappings , remote library locations and variable files 

get-view "Project Explorer" | get-tree | select "RobotProject/red.xml" | double-click
get-editor "RobotProject/red.xml" | get-section "Variables mappings" | get-button "Add mapping" | click

get-window "Add variable mapping" 
    | get-label "Specify name and value of variable which will be used in parameterized imports." 
    | get-property caption | equals "Specify name and value of variable which will be used in parameterized imports." 
    | verify-true
get-window "Add variable mapping" | get-button Cancel | click




with [get-editor "RobotProject/red.xml"] {

    get-section "Remote library locations" | get-button "Add location" | click
}
get-window "Add Remote location" | get-button Cancel | click
get-editor "RobotProject/red.xml" | get-section "Variable files" | get-button "Add Variable File" | click
get-window "Add Variable File" | get-button Cancel | click



//---
get-editor "RobotProject/red.xml" | get-section "Variables mappings" | get-table | select "...add new mapping" 
    | double-click
with [get-window "Add variable mapping"] {
    with [get-control Any -index 1] {
        get-property "getChildren().Control[0].getText()" 
            | equals "Specify name and value of variable which will be used in parameterized imports." | verify-true
        get-property "getChildren().Control[1].getText()" | equals Name | verify-true
        get-property "getChildren().Control[2].getText()" | equals "${var}" | verify-true
        get-property "getChildren().Control[2].getEditable()" | equals true | verify-true
        get-property "getChildren().Control[2].getSelectionText()" | equals "${var}" | verify-true
        get-property "getChildren().Control[3].getText()" | equals Value | verify-true
        get-property "getChildren().Control[4].getText()" | equals value | verify-true
        get-property "getChildren().Control[4].getEditable()" | equals true | verify-true
    }
    with [get-control Any] {
        get-property "getChildren().Control[1].getChildren().Control[0].getClassName()" 
            | equals "org.eclipse.swt.widgets.Button" | verify-true
        get-property "getChildren().Control[1].getChildren().Control[0].getText()" | equals OK | verify-true
        get-property "getChildren().Control[1].getChildren().Control[1].getClassName()" 
            | equals "org.eclipse.swt.widgets.Button" | verify-true
        get-property "getChildren().Control[1].getChildren().Control[1].getText()" | equals Cancel | verify-true
    }
}
get-window "Add variable mapping" | get-button Cancel | click
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
